<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Quality Analyzer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Water Quality Analyzer</h1>
    <form id="parameterForm">
        <div class="parameter-box">
            <label for="ph">pH:</label>
            <input type="text" id="ph">
        </div>
        <div class="parameter-box">
            <label for="turbidity">Turbidity (NTU):</label>
            <input type="text" id="turbidity">
        </div>
        <div class="parameter-box">
            <label for="tds">Total Dissolved Solids (TDS) (ppm):</label>
            <input type="text" id="tds">
        </div>
        <div class="parameter-box">
            <label for="cn">Cyanide (CN) (ppm):</label>
            <input type="text" id="cn">
        </div>
        <div class="parameter-box">
            <label for="br">Radiation (Bq):</label>
            <input type="text" id="br">
        </div>
        <div class="parameter-box">
            <label for="nitrate">Nitrate (NO3) (ppm):</label>
            <input type="text" id="nitrate">
        </div>
        <div class="parameter-box">
            <label for="phosphate">Phosphate (PO4) (ppm):</label>
            <input type="text" id="phosphate">
        </div>
        <div class="parameter-box">
            <label for="lead">Lead (Pb) (ppm):</label>
            <input type="text" id="lead">
        </div>
        <div class="parameter-box">
            <label for="mercury">Mercury (Hg) (ppm):</label>
            <input type="text" id="mercury">
        </div>
        <div class="parameter-box">
            <label for="arsenic">Arsenic (As) (ppm):</label>
            <input type="text" id="arsenic">
        </div>
        <button type="button" id="analyze-btn">Analyze</button>
    </form>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
          function analyzeParameter(value, ranges) {
            const status = {
              WHO: value <= ranges.WHO ? "Good" : "Out of Range",
              EPA: value <= ranges.EPA ? "Good" : "Out of Range",
              EU: value <= ranges.EU ? "Good" : "Out of Range",
              ASTM: value <= ranges.ASTM ? "Good" : "Out of Range"
            };
            return status;
          }

          document.getElementById("analyze-btn").addEventListener("click", function() {
            const parameters = [
              { id: "ph", ranges: { WHO: 8.5, EPA: 8.5, EU: 9.0, ASTM: 8.5 } },
              { id: "turbidity", ranges: { WHO: 5, EPA: 5, EU: 4, ASTM: 5 } },
              { id: "tds", ranges: { WHO: 1000, EPA: 500, EU: 1500, ASTM: 1000 } },
              { id: "cn", ranges: { WHO: 0.07, EPA: 0.2, EU: 0.05, ASTM: 0.2 } },
              { id: "br", ranges: { WHO: 100, EPA: 4, EU: 10, ASTM: 100 } },
              { id: "nitrate", ranges: { WHO: 50, EPA: 10, EU: 50, ASTM: 10 } },
              { id: "phosphate", ranges: { WHO: 0.1, EPA: 0.5, EU: 0.1, ASTM: 0.1 } },
              { id: "lead", ranges: { WHO: 0.01, EPA: 0.015, EU: 0.01, ASTM: 0.01 } },
              { id: "mercury", ranges: { WHO: 0.006, EPA: 0.002, EU: 0.006, ASTM: 0.002 } },
              { id: "arsenic", ranges: { WHO: 0.01, EPA: 0.01, EU: 0.01, ASTM: 0.01 } },
            ];

            const results = parameters.map(param => {
              const value = parseFloat(document.getElementById(param.id).value);
              const status = isNaN(value) ? `Please enter a valid number for ${param.id}.` : `${analyzeParameter(value, param.ranges)[WHO]} (${param.ranges.WHO})`;
              return `<tr>
                        <td>${param.id}</td>
                        <td>${analyzeParameter(value, param.ranges).WHO} (${param.ranges.WHO})</td>
                        <td>${analyzeParameter(value, param.ranges).EPA} (${param.ranges.EPA})</td>
                        <td>${analyzeParameter(value, param.ranges).EU} (${param.ranges.EU})</td>
                        <td>${analyzeParameter(value, param.ranges).ASTM} (${param.ranges.ASTM})</td>
                      </tr>`;
            }).join("");

            const resultWindow = window.open('result.html', '_blank');
            resultWindow.onload = function() {
              resultWindow.document.getElementById("results").innerHTML = results;
            };
          });
        });
    </script>
</body>
</html>