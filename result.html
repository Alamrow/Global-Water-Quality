<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Quality Results</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Water Quality Results</h1>
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>WHO</th>
                    <th>EPA</th>
                    <th>EU</th>
                    <th>ASTM</th>
                </tr>
            </thead>
            <tbody id="results">
                <!-- Results will be injected here by JavaScript -->
            </tbody>
        </table>
    </div>
    
    <script>
        const results = document.getElementById("results");
        
        // Retrieve the parameters from local storage
        const parameters = {
            ph: parseFloat(localStorage.getItem("ph")),
            turbidity: parseFloat(localStorage.getItem("turbidity")),
            tds: parseFloat(localStorage.getItem("tds")),
            cn: parseFloat(localStorage.getItem("cn")),
            radiation: parseFloat(localStorage.getItem("radiation")),
            nitrate: parseFloat(localStorage.getItem("nitrate")),
            phosphate: parseFloat(localStorage.getItem("phosphate")),
            lead: parseFloat(localStorage.getItem("lead")),
            mercury: parseFloat(localStorage.getItem("mercury")),
            arsenic: parseFloat(localStorage.getItem("arsenic"))
        };

        // Define the ranges for each organization
        const ranges = {
            ph: { WHO: "6.5-8.5", EPA: "6.5-8.5", EU: "6.5-9", ASTM: "6.5-8.5" },
            turbidity: { WHO: "0-5 NTU", EPA: "0-5 NTU", EU: "0-4 NTU", ASTM: "0-5 NTU" },
            tds: { WHO: "0-1000 ppm", EPA: "0-500 ppm", EU: "0-1500 ppm", ASTM: "0-1000 ppm" },
            cn: { WHO: "0-0.07 ppm", EPA: "0-0.2 ppm", EU: "0-0.05 ppm", ASTM: "0-0.2 ppm" },
            radiation: { WHO: "0-100 Bq", EPA: "0-4 Bq", EU: "0-10 Bq", ASTM: "0-100 Bq" },
            nitrate: { WHO: "0-50 ppm", EPA: "0-10 ppm", EU: "0-50 ppm", ASTM: "0-10 ppm" },
            phosphate: { WHO: "0-0.1 ppm", EPA: "0-0.1 ppm", EU: "0-0.5 ppm", ASTM: "0-0.1 ppm" },
            lead: { WHO: "0-0.01 ppm", EPA: "0-0.015 ppm", EU: "0-0.01 ppm", ASTM: "0-0.015 ppm" },
            mercury: { WHO: "0-0.002 ppm", EPA: "0-0.002 ppm", EU: "0-0.006 ppm", ASTM: "0-0.002 ppm" },
            arsenic: { WHO: "0-0.01 ppm", EPA: "0-0.01 ppm", EU: "0-0.01 ppm", ASTM: "0-0.01 ppm" },
        };

        // Populate the results table
        for (const parameter in parameters) {
            const value = parameters[parameter];
            let row = `<tr><td>${parameter.toUpperCase()}</td>`;
            for (const org in ranges[parameter]) {
                let status;
                // Split the range and check if the value is within it
                const [min, max] = ranges[parameter][org].split('-').map(Number);
                if (value >= min && value <= max) {
                    status = "Good";
                    row += `<td class="good">${status} (${ranges[parameter][org]})</td>`;
                } else {
                    status = "Not Safe";
                    row += `<td class="not-safe">${status} (${ranges[parameter][org]})</td>`;
                }
            }
            row += `</tr>`;
            results.innerHTML += row; // Append the row to the results table
        }
    </script>
</body>
</html>