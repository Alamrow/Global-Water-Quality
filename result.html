<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Quality Results</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Water Quality Results</h1>
    <table>
        <thead>
            <tr>
                <th>Parameter</th>
                <th>WHO</th>
                <th>EPA</th>
                <th>EU</th>
                <th>ASTM</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="parameter">pH</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Turbidity (NTU)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Total Dissolved Solids (TDS) (ppm)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Cyanide (CN) (ppm)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Radiation (Bq)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Nitrate (NO3) (ppm)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Phosphate (PO4) (ppm)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Lead (Pb) (ppm)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Mercury (Hg) (ppb)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
            <tr>
                <td class="parameter">Arsenic (As) (ppb)</td>
                <td class="who">N/A</td>
                <td class="epa">N/A</td>
                <td class="eu">N/A</td>
                <td class="astm">N/A</td>
            </tr>
        </tbody>
    </table>
    <script>
        function analyzeAndDisplayResults() {
            const params = {
                pH: parseFloat(localStorage.getItem('pH')),
                turbidity: parseFloat(localStorage.getItem('turbidity')),
                tds: parseFloat(localStorage.getItem('tds')),
                cyanide: parseFloat(localStorage.getItem('cyanide')),
                radiation: parseFloat(localStorage.getItem('radiation')),
                nitrate: parseFloat(localStorage.getItem('nitrate')),
                phosphate: parseFloat(localStorage.getItem('phosphate')),
                lead: parseFloat(localStorage.getItem('lead')),
                mercury: parseFloat(localStorage.getItem('mercury')),
                arsenic: parseFloat(localStorage.getItem('arsenic')),
            };

            const ranges = {
                pH: { good: "6.5 - 8.5", notSafe: "less than 6.5 or greater than 8.5" },
                turbidity: { good: "0 - 5", notSafe: "greater than 5" },
                tds: { good: "0 - 500", notSafe: "greater than 500" },
                cyanide: { good: "0 - 0.2", notSafe: "greater than 0.2" },
                radiation: { good: "0 - 1", notSafe: "greater than 1" },
                nitrate: { good: "0 - 50", notSafe: "greater than 50" },
                phosphate: { good: "0 - 0.5", notSafe: "greater than 0.5" },
                lead: { good: "0 - 0.01", notSafe: "greater than 0.01" },
                mercury: { good: "0 - 0.002", notSafe: "greater than 0.002" },
                arsenic: { good: "0 - 0.01", notSafe: "greater than 0.01" },
            };

            for (const param in params) {
                const value = params[param];
                let resultText, color;

                if (isNaN(value)) {
                    resultText = 'N/A';
                    color = 'black';
                } else if (value < parseFloat(ranges[param].good.split(' - ')[0]) || value > parseFloat(ranges[param].notSafe.split('greater than ')[1])) {
                    resultText = `Not Safe (${ranges[param].notSafe})`;
                    color = 'red';
                } else {
                    resultText = `Good (${ranges[param].good})`;
                    color = 'green';
                }

                // Update the table with results
                const row = document.querySelector(`tr:has(.parameter:contains(${param}))`);
                row.querySelector(`.who`).textContent = resultText;
                row.querySelector(`.who`).style.color = color;

                // Additional ranges can be added similarly for EPA, EU, and ASTM
                row.querySelector(`.epa`).textContent = 'To be defined';
                row.querySelector(`.eu`).textContent = 'To be defined';
                row.querySelector(`.astm`).textContent = 'To be defined';
            }
        }

        window.onload = analyzeAndDisplayResults;
    </script>
</body>
</html>