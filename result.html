<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Quality Results</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Water Quality Results</h1>
    <div id="results">
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>WHO</th>
                    <th>EPA</th>
                    <th>EU</th>
                    <th>ASTM</th>
                </tr>
            </thead>
            <tbody id="resultRows">
                <!-- Results will be dynamically inserted here -->
            </tbody>
        </table>
    </div>

    <script>
        const waterQualityData = JSON.parse(localStorage.getItem('waterQualityData'));

        const ranges = {
            ph: { who: [6.5, 8.5], epa: [6.5, 8.5], eu: [6.5, 9], astm: [6.5, 8.5] },
            turbidity: { who: [0, 5], epa: [0, 5], eu: [0, 4], astm: [0, 5] },
            tds: { who: [0, 1000], epa: [0, 500], eu: [0, 1500], astm: [0, 1000] },
            cyanide: { who: [0, 0.07], epa: [0, 0.2], eu: [0, 0.05], astm: [0, 0.2] },
            radiation: { who: [0, 100], epa: [0, 4], eu: [0, 10], astm: [0, 100] },
            nitrate: { who: [0, 50], epa: [0, 10], eu: [0, 50], astm: [0, 10] },
            phosphate: { who: [0, 0.1], epa: [0, 0.1], eu: [0, 0.5], astm: [0, 0.1] },
            lead: { who: [0, 0.01], epa: [0, 0.015], eu: [0, 0.01], astm: [0, 0.015] },
            mercury: { who: [0, 0.006], epa: [0, 0.002], eu: [0, 0.006], astm: [0, 0.002] },
            arsenic: { who: [0, 0.01], epa: [0, 0.01], eu: [0, 0.01], astm: [0, 0.01] }
        };

        function checkValue(value, range) {
            return (value >= range[0] && value <= range[1]) ? 'Good' : 'Not Safe';
        }

        const parameters = ['ph', 'turbidity', 'tds', 'cyanide', 'radiation', 'nitrate', 'phosphate', 'lead', 'mercury', 'arsenic'];
        const resultRows = document.getElementById('resultRows');

        parameters.forEach(param => {
            const row = document.createElement('tr');
            
            const paramName = document.createElement('td');
            paramName.textContent = param.toUpperCase();
            row.appendChild(paramName);

            ['who', 'epa', 'eu', 'astm'].forEach(org => {
                const result = document.createElement('td');
                const value = waterQualityData[param];
                const status = checkValue(parseFloat(value), ranges[param][org]);
                const rangeText = `(${ranges[param][org][0]} - ${ranges[param][org][1]})`;

                result.textContent = `${status} ${rangeText}`;
                result.className = status === 'Good' ? 'good' : 'not-safe';
                row.appendChild(result);
            });

            resultRows.appendChild(row);
        });
    </script>
</body>
</html>