<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Quality Results</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Water Quality Results</h1>
    <div id="results">
        <table>
            <thead>
                <tr>
                    <th>Parameter</th>
                    <th>WHO</th>
                    <th>EPA</th>
                    <th>EU</th>
                    <th>ASTM</th>
                </tr>
            </thead>
            <tbody id="result-body">
                <!-- Results will be dynamically injected here -->
            </tbody>
        </table>
    </div>
    <script>
        const parameters = JSON.parse(localStorage.getItem("parameters"));

        const ranges = {
            ph: { who: [6.5, 8.5], epa: [6.5, 8.5], eu: [6.5, 9], astm: [6.5, 8.5] },
            turbidity: { who: [0, 5], epa: [0, 5], eu: [0, 4], astm: [0, 5] },
            tds: { who: [0, 1000], epa: [0, 500], eu: [0, 1500], astm: [0, 1000] },
            cn: { who: [0, 0.07], epa: [0, 0.2], eu: [0, 0.05], astm: [0, 0.2] },
            br: { who: [0, 100], epa: [0, 4], eu: [0, 10], astm: [0, 100] },
            nitrate: { who: [0, 50], epa: [0, 10], eu: [0, 50], astm: [0, 10] },
            phosphate: { who: [0, 0.1], epa: [0, 0.1], eu: [0, 0.5], astm: [0, 0.1] },
            lead: { who: [0, 0.01], epa: [0, 0.015], eu: [0, 0.01], astm: [0, 0.015] },
            mercury: { who: [0, 0.006], epa: [0, 0.002], eu: [0, 0.006], astm: [0, 0.002] },
            arsenic: { who: [0, 0.01], epa: [0, 0.01], eu: [0, 0.01], astm: [0, 0.01] }
        };

        function checkRange(value, range) {
            return value >= range[0] && value <= range[1] ? "Good" : "Not Safe";
        }

        function generateResultRow(parameter, value) {
            return `
                <tr>
                    <td>${parameter}</td>
                    <td>${checkRange(value, ranges[parameter].who)} (${ranges[parameter].who[0]} - ${ranges[parameter].who[1]})</td>
                    <td>${checkRange(value, ranges[parameter].epa)} (${ranges[parameter].epa[0]} - ${ranges[parameter].epa[1]})</td>
                    <td>${checkRange(value, ranges[parameter].eu)} (${ranges[parameter].eu[0]} - ${ranges[parameter].eu[1]})</td>
                    <td>${checkRange(value, ranges[parameter].astm)} (${ranges[parameter].astm[0]} - ${ranges[parameter].astm[1]})</td>
                </tr>
            `;
        }

        const resultBody = document.getElementById("result-body");
        resultBody.innerHTML = `
            ${generateResultRow("ph", parameters.ph)}
            ${generateResultRow("turbidity", parameters.turbidity)}
            ${generateResultRow("tds", parameters.tds)}
            ${generateResultRow("cn", parameters.cn)}
            ${generateResultRow("br", parameters.br)}
            ${generateResultRow("nitrate", parameters.nitrate)}
            ${generateResultRow("phosphate", parameters.phosphate)}
            ${generateResultRow("lead", parameters.lead)}
            ${generateResultRow("mercury", parameters.mercury)}
            ${generateResultRow("arsenic", parameters.arsenic)}
        `;
    </script>
</body>
</html>